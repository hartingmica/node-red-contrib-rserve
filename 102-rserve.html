<!--
/**
 * Copyright 2016 HARTING IT Software Development
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 **/

/**
 Node-RED node with support for connecting to a Rserve serve and to evaluate expressions according to the R programming language.
 This project is based on the npm rserve-client project.

 @author <a href="mailto:oliver.beyer@HARTING.com">Oliver Beyer</a> (HARTING IT Cognitive Systems)
**/
-->
<script type="text/x-red" data-template-name="rserve">
    <div class="form-row">
        <label for="node-input-host"><i class="icon-tasks"></i> Host</label>
        <input type="text" id="node-input-host" placeholder="127.0.0.1">
    </div>
	<div class="form-row">
        <label for="node-input-port"><i class="icon-tasks"></i> Port</label>
        <input type="text" id="node-input-port" placeholder="">
    </div>
	<div class="form-row">
        <label for="node-input-label"><i class="icon-tag"></i> Label</label>
        <input type="text" id="node-input-label" placeholder="">
    </div>
</script>

<script type="text/x-red" data-help-name="rserve">
    <p>Connects to a Rserve serve in order to send the <code>msg.payload</code>. After executing the message by the Rserve server the result is
	written to <code>msg.payload</code>.</p>
	<p>Host must contain the IP address of the Rserve server.</p>
	<p>Port must contain the port of the Rserve server.</p>
</script>

<script type="text/javascript">
    RED.nodes.registerType('rserve',{
        category: 'analysis-function',
        color:"#C0DEED",
        defaults: {
            host: {value:"",required:true},
            port: {value:"6311"},
			label: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "arrow-in.png",
        label: function() {
            return this.label||"rserve";
        },
        labelStyle: function() {
            return this.label?"node_label_italic":"";
        }
    });
</script>
